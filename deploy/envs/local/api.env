# ══════════════════════════════════════════════════════════════════════════════
#  ASP.NET Configuration Overrides — Local Development
# ══════════════════════════════════════════════════════════════════════════════
#
#  Env vars loaded into the API container via the env_file directive.
#  These override appsettings.json / appsettings.Development.json values.
#
#  Precedence (highest → lowest):
#    1. docker compose environment block  (interpolated from compose.env)
#    2. env_file directives               (this file, seed.env)
#    3. appsettings.{Environment}.json
#    4. appsettings.json
#
# ══════════════════════════════════════════════════════════════════════════════

# ── Authentication (JWT) ─────────────────────────────────────────────────────
# Token lifetimes (generous for local development):
Authentication__Jwt__AccessTokenLifetime=01:40:00
Authentication__Jwt__RefreshToken__PersistentLifetime=7.00:00:00
Authentication__Jwt__RefreshToken__SessionLifetime=1.00:00:00
Authentication__Jwt__Issuer=MyProjectIssuer
Authentication__Jwt__Audience=MyProjectAudience

# Email token settings (opaque tokens for password-reset / email-verification links):
Authentication__EmailToken__TokenLengthInBytes=32
Authentication__EmailToken__Lifetime=1.00:00:00

# ── Caching (HybridCache) ──────────────────────────────────────────────────
# Uses in-process L1 memory cache by default. No external infrastructure required.
# Set to false to disable caching entirely (a no-op cache is used).
# Caching__Enabled=true
# Caching__DefaultExpiration=00:10:00

# ── CORS ─────────────────────────────────────────────────────────────────────
# Development allows all origins (set in appsettings.Development.json).
# Cors__AllowAllOrigins=false
# Cors__AllowedOrigins__0=https://your-domain.com

# ── Hosting ──────────────────────────────────────────────────────────────────
# Force HTTPS scheme when behind a TLS-terminating proxy (default: true).
# Disabled for local development in appsettings.Development.json.
# Hosting__ForceHttps=false

# Trusted reverse proxy networks/IPs for X-Forwarded-For (rate limiting, logging).
# Docker bridge (172.16.0.0/12) is pre-configured in docker-compose.
# Hosting__ReverseProxy__TrustedNetworks__0=10.0.0.0/16
# Hosting__ReverseProxy__TrustedProxies__0=10.0.0.5

# ── Rate Limiting ────────────────────────────────────────────────────────────
# appsettings.Development.json uses very permissive defaults (300 req / 10s).
# Uncomment to override with production-like limits:
# RateLimiting__Global__PermitLimit=120
# RateLimiting__Global__Window=00:01:00

# ── Job Scheduling (Hangfire) ────────────────────────────────────────────────
# Disable to skip background job registration (useful during debugging):
# JobScheduling__Enabled=true
# JobScheduling__WorkerCount=4

# ── Logging (Serilog → Seq) ─────────────────────────────────────────────────
Serilog__MinimumLevel__Default=Information

# ── Email ────────────────────────────────────────────────────────────────────
# The NoOp email service logs emails to Serilog/Seq instead of sending them.
# To use a real SMTP server, uncomment and fill in the values below:
# Email__Smtp__Host=smtp.example.com
# Email__Smtp__Port=587
# Email__Smtp__Username=your-smtp-username
# Email__Smtp__Password=your-smtp-password
# Email__Smtp__UseSsl=true
# Email__FromAddress=noreply@example.com
# Email__FromName=MyProject
# Email__FrontendBaseUrl=http://localhost:5173
